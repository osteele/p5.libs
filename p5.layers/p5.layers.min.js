(()=>{var r=[],l=new Map,u=["createGraphics","millis"];function p(n,o,i,d){if(n instanceof Number&&o instanceof Number)return p(null,n,o,i);let e=n instanceof p5.Graphics?n:l.get(n);e||(e=createGraphics(o||width,i||height,d||P2D),n!=="new"&&l.set(n,e),e.background(0),e.clear());let a=window,c=new Map;r.push({savedMethods:c,graphics:e,managed:e!==n});for(let[t,s]of Object.entries(e))t in p5.prototype&&t in a&&!u.includes(t)&&typeof s=="function"&&(c.set(t,a[t]),a[t]=(...f)=>s.apply(e,f));return e}function w(n,o,i,d){let e=window;if(!r.length){console.warn("endLayer() was called without matching beginLayer()");return}let{savedMethods:a,graphics:c,managed:t}=r.pop();for(let[s,f]of a)e[s]=f;(n===void 0?t:n!==!1)&&image(c,n||0,o||0,i,d)}p5.prototype.beginLayer=p;p5.prototype.endLayer=w;})();
